/* Generated by the Nim Compiler v0.16.0 */
/*   (c) 2017 Andreas Rumpf */

var framePtr = null;
var excHandler = 0;
var lastJSError = null;
if (typeof Int8Array === 'undefined') Int8Array = Array;
if (typeof Int16Array === 'undefined') Int16Array = Array;
if (typeof Int32Array === 'undefined') Int32Array = Array;
if (typeof Uint8Array === 'undefined') Uint8Array = Array;
if (typeof Uint16Array === 'undefined') Uint16Array = Array;
if (typeof Uint32Array === 'undefined') Uint32Array = Array;
if (typeof Float32Array === 'undefined') Float32Array = Array;
if (typeof Float64Array === 'undefined') Float64Array = Array;
var NTI29200 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI128 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI29182 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI3438 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI104 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI12409 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI3408 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI138 = {size: 0,kind: 28,base: null,node: null,finalizer: null};
var NTI140 = {size: 0,kind: 29,base: null,node: null,finalizer: null};
var NTI3483 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI3424 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3436 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI3440 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NNI3440 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3440.node = NNI3440;
var NNI3436 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3436.node = NNI3436;
NTI3483.base = NTI3424;
var NNI3424 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI3483, name: "parent", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI140, name: "name", sons: null}, 
{kind: 1, offset: "message", len: 0, typ: NTI138, name: "msg", sons: null}, 
{kind: 1, offset: "trace", len: 0, typ: NTI138, name: "trace", sons: null}]};
NTI3424.node = NNI3424;
var NNI3408 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3408.node = NNI3408;
NTI3424.base = NTI3408;
NTI3436.base = NTI3424;
NTI3440.base = NTI3436;
var NNI12409 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI140, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI104, name: "Field1", sons: null}]};
NTI12409.node = NNI12409;
var NNI3438 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI3438.node = NNI3438;
NTI3438.base = NTI3436;
NTI29182.base = NTI128;
NTI29200.base = NTI128;
function makeNimstrLit(c_13403) {

    var ln = c_13403.length;
    var result = new Array(ln + 1);
    var i = 0;
    for (; i < ln; ++i) {
      result[i] = c_13403.charCodeAt(i);
    }
    result[i] = 0; // terminating zero
    return result;
    }
function SetConstr() {

      var result = {};
      for (var i = 0; i < arguments.length; ++i) {
        var x = arguments[i];
        if (typeof(x) == "object") {
          for (var j = x[0]; j <= x[1]; ++j) {
            result[j] = true;
          }
        } else {
          result[x] = true;
        }
      }
      return result;
    }
function nimCopy(dest_18514, src_18515, ti_18516) {

var result_18829 = null;
switch (ti_18516.kind) {
case 21: case 22: case 23: case 5: if (!(isfatpointer_18497(ti_18516))) {
result_18829 = src_18515;
}
else {
result_18829 = [src_18515[0], src_18515[1]];}


break;
case 19:       if (dest_18514 === null || dest_18514 === undefined) {
        dest_18514 = {};
      }
      else {
        for (var key in dest_18514) { delete dest_18514[key]; }
      }
      for (var key in src_18515) { dest_18514[key] = src_18515[key]; }
      result_18829 = dest_18514;
    
break;
case 18: case 17: if (!((ti_18516.base == null))) {
result_18829 = nimCopy(dest_18514, src_18515, ti_18516.base);
}
else {
if ((ti_18516.kind == 17)) {
result_18829 = (dest_18514 === null || dest_18514 === undefined) ? {m_type: ti_18516} : dest_18514;}
else {
result_18829 = (dest_18514 === null || dest_18514 === undefined) ? {} : dest_18514;}
}
nimCopyAux(result_18829, src_18515, ti_18516.node);

break;
case 24: case 4: case 27: case 16:       if (src_18515 === null) {
        result_18829 = null;
      }
      else {
        if (dest_18514 === null || dest_18514 === undefined) {
          dest_18514 = new Array(src_18515.length);
        }
        else {
          dest_18514.length = src_18515.length;
        }
        result_18829 = dest_18514;
        for (var i = 0; i < src_18515.length; ++i) {
          result_18829[i] = nimCopy(result_18829[i], src_18515[i], ti_18516.base);
        }
      }
    
break;
case 28:       if (src_18515 !== null) {
        result_18829 = src_18515.slice(0);
      }
    
break;
default: 
result_18829 = src_18515;
break;
}
return result_18829;
}
function eqStrings(a_16003, b_16004) {

    if (a_16003 == b_16004) return true;
    if ((!a_16003) || (!b_16004)) return false;
    var alen = a_16003.length;
    if (alen != b_16004.length) return false;
    for (var i = 0; i < alen; ++i)
      if (a_16003[i] != b_16004[i]) return false;
    return true;
  }
function arrayConstr(len_19003, value_19004, typ_19005) {

      var result = new Array(len_19003);
      for (var i = 0; i < len_19003; ++i) result[i] = nimCopy(null, value_19004, typ_19005);
      return result;
    }
function cstrToNimstr(c_13603) {

  var ln = c_13603.length;
  var result = new Array(ln);
  var r = 0;
  for (var i = 0; i < ln; ++i) {
    var ch = c_13603.charCodeAt(i);

    if (ch < 128) {
      result[r] = ch;
    }
    else if((ch > 127) && (ch < 2048)) {
      result[r] = (ch >> 6) | 192;
      ++r;
      result[r] = (ch & 63) | 128;
    }
    else {
      result[r] = (ch >> 12) | 224;
      ++r;
      result[r] = ((ch >> 6) & 63) | 128;
      ++r;
      result[r] = (ch & 63) | 128;
    }
    ++r;
  }
  result[r] = 0; // terminating zero
  return result;
  }
function toJSStr(s_13803) {

    var len = s_13803.length-1;
    var asciiPart = new Array(len);
    var fcc = String.fromCharCode;
    var nonAsciiPart = null;
    var nonAsciiOffset = 0;
    for (var i = 0; i < len; ++i) {
      if (nonAsciiPart !== null) {
        var offset = (i - nonAsciiOffset) * 2;
        var code = s_13803[i].toString(16);
        if (code.length == 1) {
          code = "0"+code;
        }
        nonAsciiPart[offset] = "%";
        nonAsciiPart[offset + 1] = code;
      }
      else if (s_13803[i] < 128)
        asciiPart[i] = fcc(s_13803[i]);
      else {
        asciiPart.length = i;
        nonAsciiOffset = i;
        nonAsciiPart = new Array((len - i) * 2);
        --i;
      }
    }
    asciiPart = asciiPart.join("");
    return (nonAsciiPart === null) ?
        asciiPart : asciiPart + decodeURIComponent(nonAsciiPart.join(""));
  }
function raiseException(e_12806, ename_12807) {

e_12806.name = ename_12807;
if ((excHandler == 0)) {
unhandledException(e_12806);
}

e_12806.trace = nimCopy(null, rawwritestacktrace_12628(), NTI138);
throw e_12806;}
var nimvm_5887 = false;
var nim_program_result = 0;
var globalraisehook_10414 = [null];
var localraisehook_10419 = [null];
var outofmemhook_10422 = [null];
function isfatpointer_18497(ti_18499) {

var result_18500 = false;
BeforeRet: do {
result_18500 = !((SetConstr(17, 16, 4, 18, 27, 19, 23, 22, 21)[ti_18499.base.kind] != undefined));
break BeforeRet;
} while (false); 
return result_18500;
}
function nimCopyAux(dest_18519, src_18520, n_18522) {

switch (n_18522.kind) {
case 0: 
break;
case 1:       dest_18519[n_18522.offset] = nimCopy(dest_18519[n_18522.offset], src_18520[n_18522.offset], n_18522.typ);
    
break;
case 2: L1: do {
var i_18815 = 0;
var HEX3Atmp_18817 = 0;
HEX3Atmp_18817 = (n_18522.len - 1);
var res_18820 = 0;
L2: do {
L3: while (true) {
if (!(res_18820 <= HEX3Atmp_18817)) break L3;
i_18815 = res_18820;
nimCopyAux(dest_18519, src_18520, n_18522.sons[i_18815]);
res_18820 += 1;
}
} while(false);
} while(false);

break;
case 3:       dest_18519[n_18522.offset] = nimCopy(dest_18519[n_18522.offset], src_18520[n_18522.offset], n_18522.typ);
      for (var i = 0; i < n_18522.sons.length; ++i) {
        nimCopyAux(dest_18519, src_18520, n_18522.sons[i][1]);
      }
    
break;
}
}
function add_10438(x_10441, x_10441_Idx, y_10442) {

        var len = x_10441[0].length-1;
        for (var i = 0; i < y_10442.length; ++i) {
          x_10441[0][len] = y_10442.charCodeAt(i);
          ++len;
        }
        x_10441[0][len] = 0
      }
function auxwritestacktrace_12404(f_12406) {

var Tmp3;
var result_12407 = [null];
var it_12415 = f_12406;
var i_12416 = 0;
var total_12417 = 0;
var tempframes_12421 = arrayConstr(64, {Field0: null, Field1: 0}, NTI12409);
L1: do {
L2: while (true) {
if (!!((it_12415 == null))) Tmp3 = false; else {Tmp3 = (i_12416 <= 63); }if (!Tmp3) break L2;
tempframes_12421[i_12416].Field0 = it_12415.procname;
tempframes_12421[i_12416].Field1 = it_12415.line;
i_12416 += 1;
total_12417 += 1;
it_12415 = it_12415.prev;
}
} while(false);
L4: do {
L5: while (true) {
if (!!((it_12415 == null))) break L5;
total_12417 += 1;
it_12415 = it_12415.prev;
}
} while(false);
result_12407[0] = nimCopy(null, makeNimstrLit(""), NTI138);
if (!((total_12417 == i_12416))) {
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(makeNimstrLit("(")); } else { result_12407[0] = makeNimstrLit("(");};
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(cstrToNimstr(((total_12417 - i_12416))+"")); } else { result_12407[0] = cstrToNimstr(((total_12417 - i_12416))+"");};
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(makeNimstrLit(" calls omitted) ...\x0A")); } else { result_12407[0] = makeNimstrLit(" calls omitted) ...\x0A");};
}

L6: do {
var j_12615 = 0;
var HEX3Atmp_12621 = 0;
HEX3Atmp_12621 = (i_12416 - 1);
var res_12624 = HEX3Atmp_12621;
L7: do {
L8: while (true) {
if (!(0 <= res_12624)) break L8;
j_12615 = res_12624;
add_10438(result_12407, 0, tempframes_12421[j_12615].Field0);
if ((0 < tempframes_12421[j_12615].Field1)) {
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(makeNimstrLit(", line: ")); } else { result_12407[0] = makeNimstrLit(", line: ");};
if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(cstrToNimstr((tempframes_12421[j_12615].Field1)+"")); } else { result_12407[0] = cstrToNimstr((tempframes_12421[j_12615].Field1)+"");};
}

if (result_12407[0] != null) { result_12407[0] = (result_12407[0].slice(0, -1)).concat(makeNimstrLit("\x0A")); } else { result_12407[0] = makeNimstrLit("\x0A");};
res_12624 -= 1;
}
} while(false);
} while(false);
return result_12407[0];
}
function rawwritestacktrace_12628() {

var result_12630 = null;
if (!((framePtr == null))) {
result_12630 = nimCopy(null, (makeNimstrLit("Traceback (most recent call last)\x0A").slice(0,-1)).concat(auxwritestacktrace_12404(framePtr)), NTI138);
}
else {
result_12630 = nimCopy(null, makeNimstrLit("No stack traceback available\x0A"), NTI138);
}

return result_12630;
}
function unhandledException(e_12654) {

var Tmp1;
var buf_12655 = /**/[makeNimstrLit("")];
if (!!(eqStrings(e_12654.message, null))) Tmp1 = false; else {Tmp1 = !((e_12654.message[0] == 0)); }if (Tmp1) {
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(makeNimstrLit("Error: unhandled exception: ")); } else { buf_12655[0] = makeNimstrLit("Error: unhandled exception: ");};
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(e_12654.message); } else { buf_12655[0] = e_12654.message;};
}
else {
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(makeNimstrLit("Error: unhandled exception")); } else { buf_12655[0] = makeNimstrLit("Error: unhandled exception");};
}

if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(makeNimstrLit(" [")); } else { buf_12655[0] = makeNimstrLit(" [");};
add_10438(buf_12655, 0, e_12654.name);
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(makeNimstrLit("]\x0A")); } else { buf_12655[0] = makeNimstrLit("]\x0A");};
if (buf_12655[0] != null) { buf_12655[0] = (buf_12655[0].slice(0, -1)).concat(rawwritestacktrace_12628()); } else { buf_12655[0] = rawwritestacktrace_12628();};
var cbuf_12801 = toJSStr(buf_12655[0]);
framePtr = null;
  if (typeof(Error) !== "undefined") {
    throw new Error(cbuf_12801);
  }
  else {
    throw cbuf_12801;
  }
  }
function raiseOverflow() {

var e_13236 = null;
e_13236 = {m_type: NTI3440, parent: null, name: null, message: null, trace: null};
e_13236.message = nimCopy(null, makeNimstrLit("over- or underflow"), NTI138);
raiseException(e_13236, "OverflowError");
}
function raiseDivByZero() {

var e_13252 = null;
e_13252 = {m_type: NTI3438, parent: null, name: null, message: null, trace: null};
e_13252.message = nimCopy(null, makeNimstrLit("division by zero"), NTI138);
raiseException(e_13252, "DivByZeroError");
}
var gl_29001 = [null];
var viewportwidth_29003 = [0];
var viewportheight_29005 = [0];
var shaderprogram_29070 = [null];
var vertexpositionattribute_29072 = [0];
var pmatrixuniform_29074 = [null];
var mvmatrixuniform_29076 = [null];
function newseq_29085(len_29089) {

var result_29091 = null;
var F={procname:"newSeq.newSeq",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
result_29091 = new Array(len_29089); for (var i=0;i<len_29089;++i) {result_29091[i]=0.0;}framePtr = F.prev;
return result_29091;
}
var mvmatrix_29120 = /**/[newseq_29085(16)];
var pmatrix_29149 = /**/[newseq_29085(16)];
var trianglevertexpositionbuffer_29152 = [null];
var squarevertexpositionbuffer_29154 = [null];
var tin_29159 = [{Field0: 0, Field1: 0}];
var vin_29164 = [{Field0: 0, Field1: 0}];
function initgl_29046(canvas_29048) {

var F={procname:"ex2.initGL",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
F.line = 20;
gl_29001[0] = canvas_29048.getContext("webgl");
F.line = 21;
viewportwidth_29003[0] = canvas_29048.width;
F.line = 22;
viewportheight_29005[0] = canvas_29048.height;
framePtr = F.prev;
}
function getshader_29049(gl_29051, id_29052, stype_29053) {

var result_29054 = null;
var F={procname:"ex2.getShader",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
BeforeRet: do {
F.line = 28;
var shaderscript_29055 = document.getElementById(id_29052);
if ((shaderscript_29055 == null)) {
F.line = 30;
break BeforeRet;
}

F.line = 32;
var str_29068 = shaderscript_29055.firstChild.nodeValue;
if ((stype_29053 == "x-shader/x-fragment")) {
F.line = 41;
result_29054 = gl_29051.createShader(35632);
}
else {
if ((stype_29053 == "x-shader/x-vertex")) {
F.line = 43;
result_29054 = gl_29051.createShader(35633);
}
else {
F.line = 45;
break BeforeRet;
}
}
gl_29051.shaderSource(result_29054, str_29068);
gl_29051.compileShader(result_29054);
F.line = 50;
if (!gl_29051.getShaderParameter(result_29054, gl_29051.COMPILE_STATUS)){alert(stype_29053+' '+gl_29051.getShaderInfoLog(result_29054));return null;};} while (false); 
framePtr = F.prev;
return result_29054;
}
function initshaders_29078() {

var F={procname:"ex2.initShaders",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
F.line = 58;
var fragmentshader_29080 = getshader_29049(gl_29001[0], "shader-fs", "x-shader/x-fragment");
F.line = 59;
var vertexshader_29081 = getshader_29049(gl_29001[0], "shader-vs", "x-shader/x-vertex");
F.line = 61;
shaderprogram_29070[0] = gl_29001[0].createProgram();
gl_29001[0].attachShader(shaderprogram_29070[0], vertexshader_29081);
gl_29001[0].attachShader(shaderprogram_29070[0], fragmentshader_29080);
gl_29001[0].linkProgram(shaderprogram_29070[0]);
gl_29001[0].useProgram(shaderprogram_29070[0]);
F.line = 68;
vertexpositionattribute_29072[0] = gl_29001[0].getAttribLocation(shaderprogram_29070[0], "aVertexPosition");
gl_29001[0].enableVertexAttribArray(vertexpositionattribute_29072[0]);
F.line = 70;
pmatrixuniform_29074[0] = gl_29001[0].getUniformLocation(shaderprogram_29070[0], "uPMatrix");
F.line = 71;
mvmatrixuniform_29076[0] = gl_29001[0].getUniformLocation(shaderprogram_29070[0], "uMVMatrix");
framePtr = F.prev;
}
function initbuffers_29166() {

var F={procname:"ex2.initBuffers",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
F.line = 88;
trianglevertexpositionbuffer_29152[0] = gl_29001[0].createBuffer();
gl_29001[0].bindBuffer(34962, trianglevertexpositionbuffer_29152[0]);
F.line = 90;
var vertices_29184 = nimCopy(null, [0.0, 1.0000000000000000e+000, 0.0, -1.0000000000000000e+000, -1.0000000000000000e+000, 0.0, 1.0000000000000000e+000, -1.0000000000000000e+000, 0.0], NTI29182);
gl_29001[0].bufferData(34962, new Float32Array(vertices_29184), 35044);
F.line = 96;
tin_29159[0].Field0 = 3;
F.line = 97;
tin_29159[0].Field1 = 3;
F.line = 99;
squarevertexpositionbuffer_29154[0] = gl_29001[0].createBuffer();
gl_29001[0].bindBuffer(34962, squarevertexpositionbuffer_29154[0]);
F.line = 101;
var vertices2_29202 = nimCopy(null, [1.0000000000000000e+000, 1.0000000000000000e+000, 0.0, -1.0000000000000000e+000, 1.0000000000000000e+000, 0.0, 1.0000000000000000e+000, -1.0000000000000000e+000, 0.0, -1.0000000000000000e+000, -1.0000000000000000e+000, 0.0], NTI29200);
gl_29001[0].bufferData(34962, new Float32Array(vertices2_29202), 35044);
F.line = 108;
vin_29164[0].Field0 = 3;
F.line = 109;
vin_29164[0].Field1 = 4;
framePtr = F.prev;
}
function perspective4_29216(a_29224, b_29226, c_29228, d_29230, e_29232) {

var F={procname:"perspective4.perspective4",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
F.line = 14;
function frustum(a,b,c,d,e,g,f){var h=b-a,i=d-c,j=g-e;f[0]=e*2/h;f[1]=0;f[2]=0;f[3]=0;f[4]=0;f[5]=e*2/i;f[6]=0;f[7]=0;f[8]=(b+a)/h;f[9]=(d+c)/i;f[10]=-(g+e)/j;f[11]=-1;f[12]=0;f[13]=0;f[14]=-(g*e*2)/j;f[15]=0;return f;};a_29224=c_29228*Math.tan(a_29224*Math.PI/360);b_29226=a_29224*b_29226;result_29233 = frustum(-b_29226,b_29226,-a_29224,a_29224,c_29228,d_29230,e_29232);framePtr = F.prev;
}
function HEX2F_20207(x_20209, y_20210) {

var result_20211 = 0.0;
var F={procname:"system./",prev:framePtr,filename:"lib\\system.nim",line:0};
framePtr = F;
F.line = 3241;
result_20211 = (x_20209 / y_20210);
framePtr = F.prev;
return result_20211;
}
function identity4_29236(a_29240) {

var F={procname:"identity4.identity4",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
F.line = 9;
a_29240[0]=1;a_29240[1]=0;a_29240[2]=0;a_29240[3]=0;a_29240[4]=0;a_29240[5]=1;a_29240[6]=0;a_29240[7]=0;a_29240[8]=0;a_29240[9]=0;a_29240[10]=1;a_29240[11]=0;a_29240[12]=0;a_29240[13]=0;a_29240[14]=0;a_29240[15]=1;result_29241=a_29240framePtr = F.prev;
}
function traslate4_29259(a_29265, b_29267, c_29269) {

var F={procname:"traslate4.traslate4",prev:framePtr,filename:"C:\\Dev\\proj\\webgl\\src\\webgl.nim",line:0};
framePtr = F;
F.line = 469;
var d=b_29267[0],e=b_29267[1];b_29267=b_29267[2];if(!c_29269||a_29265==c_29269){a_29265[12]=a_29265[0]*d+a_29265[4]*e+a_29265[8]*b_29267+a_29265[12];a_29265[13]=a_29265[1]*d+a_29265[5]*e+a_29265[9]*b_29267+a_29265[13];a_29265[14]=a_29265[2]*d+a_29265[6]*e+a_29265[10]*b_29267+a_29265[14];a_29265[15]=a_29265[3]*d+a_29265[7]*e+a_29265[11]*b_29267+a_29265[15];return a_29265}var g=a_29265[0],f=a_29265[1],h=a_29265[2],i=a_29265[3],j=a_29265[4],k=a_29265[5],l=a_29265[6],o=a_29265[7],m=a_29265[8],n=a_29265[9],p=a_29265[10],r=a_29265[11];c_29269[0]=g;c_29269[1]=f;c_29269[2]=h;c_29269[3]=i;c_29269[4]=j;c_29269[5]=k;c_29269[6]=l;c_29269[7]=o;c_29269[8]=m;c_29269[9]=n;c_29269[10]=p;c_29269[11]=r;c_29269[12]=g*d+j*e+m*b_29267+a_29265[12];c_29269[13]=f*d+k*e+n*b_29267+a_29265[13];c_29269[14]=h*d+l*e+p*b_29267+a_29265[14];c_29269[15]=i*d+o*e+r*b_29267+a_29265[15];result_29270 = c_29269;framePtr = F.prev;
}
function setmatrixuniforms_29150() {

var F={procname:"ex2.setMatrixUniforms",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
gl_29001[0].uniformMatrix4fv(pmatrixuniform_29074[0], false, new Float32Array(pmatrix_29149[0]));
gl_29001[0].uniformMatrix4fv(mvmatrixuniform_29076[0], false, new Float32Array(mvmatrix_29120[0]));
framePtr = F.prev;
}
function drawscene_29203() {

var F={procname:"ex2.drawScene",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
gl_29001[0].viewport(0, 0, viewportwidth_29003[0], viewportheight_29005[0]);
gl_29001[0].clear(16640);
perspective4_29216(45, HEX2F_20207(viewportwidth_29003[0], viewportheight_29005[0]), 1.0000000000000001e-001, 1.0000000000000000e+002, pmatrix_29149[0]);
identity4_29236(mvmatrix_29120[0]);
traslate4_29259(mvmatrix_29120[0], [-1.5000000000000000e+000, 0.0, -7.0000000000000000e+000], mvmatrix_29120[0]);
gl_29001[0].bindBuffer(34962, trianglevertexpositionbuffer_29152[0]);
gl_29001[0].vertexAttribPointer(vertexpositionattribute_29072[0], tin_29159[0].Field0, 5126, false, 0, 0);
setmatrixuniforms_29150();
gl_29001[0].drawArrays(4, 0, tin_29159[0].Field1);
traslate4_29259(mvmatrix_29120[0], [3.0000000000000000e+000, 0.0, 0.0], mvmatrix_29120[0]);
gl_29001[0].bindBuffer(34962, squarevertexpositionbuffer_29154[0]);
gl_29001[0].vertexAttribPointer(vertexpositionattribute_29072[0], vin_29164[0].Field0, 5126, false, 0, 0);
setmatrixuniforms_29150();
gl_29001[0].drawArrays(5, 0, vin_29164[0].Field1);
framePtr = F.prev;
}
function HEX3Aanonymous_29298(e_29301) {

var F={procname:"ex2.:anonymous",prev:framePtr,filename:"ex2.nim",line:0};
framePtr = F;
F.line = 139;
var canvas_29302 = document.getElementById("glcanvas");
initgl_29046(canvas_29302);
initshaders_29078();
initbuffers_29166();
gl_29001[0].clearColor(0.0, 0.0, 0.0, 1.0000000000000000e+000);
gl_29001[0].enable(2929);
drawscene_29203();
framePtr = F.prev;
}
window.onload = HEX3Aanonymous_29298;
